<!DOCTYPE html>
<html>

<head>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>


  <style>
    body {
      border: 15px solid blue;
    }

    #box {
      border: 15px solid green;
      height: 500px;
      width: 200px;
      background-color: coral;
      padding: 5rem;
      border: 10px solid black;
      margin: 5rem;
      overflow: scroll;
    }
    #animated-bg {
  transition: background 6s;
  min-height:50vh;
  position:relative;
  background-size: cover;
  background-color: white no-repeat center center fixed;
  transition: 3s;
}
#animated-bg:before {
content:"";
position:absolute;
top:0;
bottom:0;
left:0;
right:0;
background-color: #4b555f;
opacity:0.3;
}
  </style>

</head>

<body>


  <section class="bg-light" >
    <div class="container-fluid">
        <div id="animated-bg">
        </div>
    </div>
</section>
<script>
var bgImageArray = ["1.jpg", "2.jpg",  "3.jpg"]
  , base = "/images/"
  , secs = 4;
bgImageArray.forEach(function(img) {
    new Image().src = base + img;
    // caches images, avoiding white flash between background replacements
});
function backgroundSequence() {
    window.clearTimeout();
    var k = 0;
    for (i = 0; i < bgImageArray.length; i++) {
        setTimeout(function() {
document.getElementById('animated-bg').style.background = "url(" + base + bgImageArray[k] + ") no-repeat center center";
            document.getElementById('animated-bg').style.backgroundSize = "cover";
            if ((k + 1) === bgImageArray.length) {
                setTimeout(function() {
                    backgroundSequence()
                }, (secs * 1000))
            } else {
                k++;
            }
        }, (secs * 1000) * i)
    }
}
backgroundSequence();
</script>









  <div id="box">
  </div>
  <script>
    if (typeof (EventSource) !== "undefined") {
      var source = new EventSource("/events");
      source.onmessage = function (event) {
        const box = document.getElementById('box')
        const alpr = document.createElement('h1')
        alpr.innerHTML += event.data.replace(/[{("")}]/g, '') + "<br>";
        box.insertBefore(alpr, box.firstChild)
      };
    } else {
      document.getElementById("result").innerHTML = "Sorry, your browser does not support server-sent events...";
    }
  </script>
</body>

</html>